{"version":3,"file":"src_app_pages_confirm_confirm_module_ts.js","mappings":"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","sources":["./src/app/pages/confirm/confirm.page.html","./src/app/pages/confirm/confirm-routing.module.ts","./src/app/pages/confirm/confirm.module.ts","./src/app/pages/confirm/confirm.page.ts","./src/app/services/auth/access.service.ts"],"sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button color=\\\"primary\\\" (click)=\\\"back()\\\" routerDirection=\\\"forward\\\">\\n        <ion-icon name=\\\"chevron-back-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen=\\\"true\\\">\\n  <div *ngIf=\\\"showFallback\\\" class=\\\"ion-padding\\\">\\n    <ion-button (click)=\\\"unlock()\\\" expand=\\\"block\\\" class=\\\"main-button\\\">\\n      <ion-text class = ion-margin-horizontal >Confirm Payment</ion-text>\\n      <ion-icon class = ion-margin-horizontal name=\\\"wallet-outline\\\"></ion-icon>\\n    </ion-button>\\n  <ion-col size=\\\"10\\\">\\n    <ion-text  color=\\\"primary\\\" style=\\\"font-size: 26px; font-weight: bold\\\">Order Details</ion-text>\\n  </ion-col>\\n  <div class=\\\"cart-items\\\">\\n    <ng-container *ngFor=\\\"let checkout of checkout\\\">\\n      <div>\\n        <app-checkout-card [checkout]=\\\"checkout\\\"></app-checkout-card>\\n      </div>\\n    </ng-container>\\n  </div>\\n\\n  <hr>\\n\\n  <div class=\\\"cart-total\\\">\\n    <ion-item lines=\\\"none\\\">\\n      <ion-label>Total</ion-label>\\n      <ion-label slot=\\\"end\\\" class=\\\"ion-text-right\\\">RM {{this.total}}</ion-label>\\n    </ion-item>\\n  </div>\\n  </div>\\n</ion-content>\\n<ion-footer>\\n  <ion-toolbar color = \\\"secondary\\\">\\n    <ion-row>\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n        Timeout in: {{( logoutTimer | async )*1000| date: 'mm:ss'}}\\n      </ion-col>\\n    </ion-row>\\n  </ion-toolbar>\\n</ion-footer>\\n\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ConfirmPage } from './confirm.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConfirmPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ConfirmPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ConfirmPageRoutingModule } from './confirm-routing.module';\n\nimport { ConfirmPage } from './confirm.page';\nimport {SharedModule} from '../../shared';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        ConfirmPageRoutingModule,\n        SharedModule\n    ],\n  declarations: [ConfirmPage]\n})\nexport class ConfirmPageModule {}\n","/* eslint-disable */\nimport { Component, OnInit } from '@angular/core';\nimport {AccessService} from '../../services/auth/access.service';\nimport {Router} from '@angular/router';\nimport {IrohaService} from '../../services/iroha/iroha.service';\nimport {doc, Firestore, getDoc, setDoc, updateDoc} from '@angular/fire/firestore';\nimport {AuthService} from '../../services/auth/auth.service';\nimport {AngularFirestore, DocumentData} from '@angular/fire/compat/firestore';\nimport {ProductService} from '../../services/store/product.service';\nimport firebase from 'firebase/compat/app';\nimport {AlertController, IonRouterOutlet, LoadingController, MenuController, ModalController} from \"@ionic/angular\";\nimport {AvailableResult, BiometryType, Credentials, NativeBiometric} from \"capacitor-native-biometric\";\nimport pdfMake from 'pdfmake/build/pdfmake';\nimport pdfFonts from 'pdfmake/build/vfs_fonts';\nimport {ICartCard} from \"../../shared\";\nimport {update} from \"@angular/fire/database\";\n\npdfMake.vfs = pdfFonts.pdfMake.vfs;\n\n@Component({\n  selector: 'app-confirm',\n  templateUrl: './confirm.page.html',\n  styleUrls: ['./confirm.page.scss'],\n})\nexport class ConfirmPage implements OnInit {\n\n  logoutTimer = this.access.logoutTimer.asObservable();\n  owner = '';\n  total = 0;\n  msg = '';\n  paymentDetails = '';\n  deliverTime = '';\n  hasBiometricAuth = false;\n  showFallback = true;\n  checkout: ICartCard [] = [\n  ];\n  private id = this.ionicAuthService.getUid();\n  private loading: any;\n  private options = [];\n\n  constructor(private access: AccessService,\n              private router: Router,\n              private iroha: IrohaService,\n              private ionicAuthService: AuthService,\n              private _firestore: Firestore,\n              private product: ProductService,\n              private afs: AngularFirestore,\n              private alertController: AlertController,\n              private loadingController: LoadingController,\n              private modalCtrl: ModalController,\n              private routerOutlet: IonRouterOutlet,\n              private menu: MenuController) {\n    this.menu.enable(false);\n  }\n  async ionViewDidLeave() {\n    await this.menu.enable(true);\n  }\n\n  async ngOnInit() {\n    this.addItemsToCart();\n  }\n\n\n  unlock() {\n    NativeBiometric.isAvailable().then(\n      async (result: AvailableResult) => {\n        const isAvailable = result.isAvailable;\n        const isFaceId = result.biometryType == BiometryType.FACE_ID;\n        if (isAvailable) {\n          // Get user's credentials\n          NativeBiometric.getCredentials({\n            server: \"chainfox\",\n          }).then((credentials: Credentials) => {\n            // Authenticate using biometrics before logging the user in\n            NativeBiometric.verifyIdentity({\n              reason: \"Please verify your identity\",\n              title: \"Verification\",\n              description: \"You need to verify your identity to complete the payment.\",\n            }).then(\n              async () => {\n                // Authentication successful\n                await this.payment();\n              },\n              async (error) => {\n                // Failed to authenticate\n                await this.presentPrompt();\n              }\n            );\n          });\n        } else {\n          await this.presentPrompt();\n        }\n      },\n      async (error) => {\n        await this.presentPrompt();\n      }\n    );\n\n  }\n\n  ionViewDidEnter() {\n    this.access.resetLogoutTimer();\n  }\n\n  // get details of orders and display on view for double checking\n  async addItemsToCart() {\n    let data: DocumentData;\n    this.total = 0;\n    // eslint-disable-next-line no-underscore-dangle\n    const itemIdRef = doc(this._firestore, `carts/${(this.id)}`);\n    await getDoc(itemIdRef)\n      .then(snap =>   { data = snap.data(); delete data.lastUpdate; delete data.id;});\n    for (const key in data) {\n      const idOwnerRef = doc(this._firestore, `idOwner/${(key.split('@')[0])}`);\n      const idOwnerSnap = await getDoc(idOwnerRef);\n      const idOwnerName = idOwnerSnap.data();\n      this.owner = idOwnerName.owner;\n      console.log(this.owner);\n      const ownerRef = doc(this._firestore, `stores/${(this.owner)}`);\n      const ownerSnap = await getDoc(ownerRef);\n      const ownerName = ownerSnap.data();\n      // eslint-disable-next-line no-underscore-dangle\n      const dataRef = doc(this._firestore, `stores/${(this.owner)}/items/${(key.split('@')[0])}`);\n      const docSnap = await getDoc(dataRef);\n      const dataSnap = docSnap.data();\n      const value = data[key];\n      const keys = key.split('@')[1].split('-').slice(0, -1);\n      let optionSnap = 0;\n      for (const price of keys) {\n        // eslint-disable-next-line max-len\n        const optionRef = doc(this._firestore, `stores/${(this.owner)}/items/${(key.split('@')[0])}/optionPrice/${(price)}`);\n        const optSnap = await getDoc(optionRef);\n        optionSnap += Number(optSnap.data().price);\n      }\n      const paymentDetails = this.product.orderNotePair.get(key);\n      const deliveryTime = this.product.orderTimePair.get(key);\n      this.checkout.push(\n        {\n          name: dataSnap.name,\n          owner: ownerName.name,\n          price: Number(dataSnap.price)+ optionSnap,\n          image: dataSnap.imageUrl,\n          id: key,\n          message: paymentDetails,\n          ownerId: this.owner,\n          quantity: value,\n          deliveryTime: deliveryTime\n        },\n      );\n      this.total += (Number(dataSnap.price)+optionSnap)*value;\n    }\n  }\n\n  async getOptions(itemId) {\n    this.product.customOptions = [];\n    this.product.customOption = [];\n    const key = itemId.split('@')[1];\n    itemId = itemId.split('@')[0];\n    const dataRef = doc(this._firestore, 'carts/' + this.id + '/option/' + itemId + '/grouping/' + key);\n    const dataSnap = await getDoc(dataRef);\n    const data = dataSnap.data();\n    delete data.id;\n    for (const keys in data) {\n      console.log(keys, data[keys]);\n      this.product.customOptions.push({\n        name: keys,\n        data: data[keys],\n        checked: false\n      });\n    }\n    console.log(this.product.customOptions);\n    for (const i in this.product.customOptions) {\n      this.options.push({\n        val: this.product.customOptions[i].data,\n        name: this.product.customOptions[i].name,\n      });\n    }\n    this.product.currentOption = '';\n    for (const key in this.options) {\n      this.product.currentOption = this.product.currentOption + this.options[key].name + this.options[key].val + '-';\n    }\n  }\n\n  async payment() {\n    let data: DocumentData;\n    this.loadingController.create({\n      message: 'Paying...',\n    }).then(async overlay => {\n      this.loading = overlay;\n      this.loading.present();\n      // eslint-disable-next-line no-underscore-dangle\n      const itemIdRef = doc(this._firestore, `carts/${(this.id)}`);\n      await getDoc(itemIdRef)\n        .then(snap => {\n          data = snap.data();\n          delete data.lastUpdate;\n          delete data.id;\n        });\n      // eslint-disable-next-line guard-for-in\n      for (const key in data) {\n        const value = data[key];\n        // get owner id from item id\n        // eslint-disable-next-line no-underscore-dangle\n        const idOwnerRef = doc(this._firestore, `idOwner/${(key.split('@')[0])}`);\n        const idOwnerSnap = await getDoc(idOwnerRef);\n        const idOwnerName = idOwnerSnap.data();\n        this.owner = idOwnerName.owner;\n        // get name of owner\n        // eslint-disable-next-line no-underscore-dangle\n        const ownerRef = doc(this._firestore, `stores/${(this.owner)}`);\n        const ownerSnap = await getDoc(ownerRef);\n        const ownerName = ownerSnap.data();\n        // find price times value\n        const keys = key.split('@')[1].split('-').slice(0, -1);\n        let optionSnap = 0;\n        for (const price of keys) {\n          // eslint-disable-next-line max-len\n          const optionRef = doc(this._firestore, `stores/${(this.owner)}/items/${(key.split('@')[0])}/optionPrice/${(price)}`);\n          const optSnap = await getDoc(optionRef);\n          optionSnap += Number(optSnap.data().price);\n        }\n        const dataRef = doc(this._firestore, `stores/${(this.owner)}/items/${(key.split('@')[0])}`);\n        const docSnap = await getDoc(dataRef);\n        const dataSnap = docSnap.data();\n        const price = Number(dataSnap.price) + optionSnap;\n        const pay = price * value;\n        const payString = pay.toString();\n        // get owner name\n        const nameRef = doc(this._firestore, `users/${(this.owner)}`);\n        const nameSnap = await getDoc(nameRef);\n        const name = nameSnap.data();\n        const dest = name.username;\n        // get buyer name\n        const unameRef = doc(this._firestore, `users/${(this.id)}`);\n        const unameSnap = await getDoc(unameRef);\n        const uname = unameSnap.data();\n        const src = uname.username;\n        // payment\n        this.paymentDetails = this.product.orderNotePair.get(key);\n        this.deliverTime = this.product.orderTimePair.get(key);\n        if (this.paymentDetails === undefined) {\n          this.paymentDetails = '';\n        }\n        await this.iroha.payment(dest, this.paymentDetails, payString);\n        this.iroha.wallet.balance = '0';\n        await this.iroha.setBalance(src+'@test');\n        // add orders for buyer\n        const pushKey = this.afs.createId();\n        const orderRef = doc(this._firestore, `users/${(this.id)}/activeOrders/${(pushKey)}`);\n        await setDoc(orderRef, {\n          itemName: dataSnap.name,\n          imageUrl: dataSnap.imageUrl,\n          itemId: dataSnap.id,\n          owner: ownerName.name,\n          ownerId: ownerName.id,\n          orderId: pushKey,\n          price: price,\n          status: 'paid',\n          quantity: value,\n          amountPaid: payString,\n          deliverTime: this.deliverTime,\n          message: this.paymentDetails,\n          orderTime: firebase.firestore.FieldValue.serverTimestamp()\n        });\n        await this.getOptions(key);\n        let optRef = doc(this._firestore, `users/${(this.id)}/activeOrders/${(pushKey)}/options/${(this.product.currentOption)}`);\n        await setDoc(optRef, {\n        });\n        for (const key in this.options)\n        await updateDoc(optRef, {\n          [this.options[key].name]: this.options[key].val\n        })\n        // add to all orders for buyer\n        const allOrderRef = doc(this._firestore, `users/${(this.id)}/allOrders/${(pushKey)}`);\n        await setDoc(allOrderRef, {\n          itemName: dataSnap.name,\n          imageUrl: dataSnap.imageUrl,\n          itemId: dataSnap.id,\n          owner: ownerName.name,\n          ownerId: ownerName.id,\n          orderId: pushKey,\n          price: price,\n          status: 'paid',\n          quantity: value,\n          amountPaid: payString,\n          deliverTime: this.deliverTime,\n          message: this.paymentDetails,\n          orderTime: firebase.firestore.FieldValue.serverTimestamp()\n        });\n        optRef = doc(this._firestore, `users/${(this.id)}/allOrders/${(pushKey)}/options/${(this.product.currentOption)}`);\n        await setDoc(optRef, {\n        });\n        for (const key in this.options)\n          await updateDoc(optRef, {\n            [this.options[key].name]: this.options[key].val\n          })\n        // add orders for stall\n        const trackActiveOrderRef = doc(this._firestore, `trackOrders/${(this.owner)}/activeOrders/${(pushKey)}`);\n        await setDoc(trackActiveOrderRef, {\n          itemName: dataSnap.name,\n          imageUrl: dataSnap.imageUrl,\n          itemId: dataSnap.id,\n          owner: ownerName.name,\n          ownerId: ownerName.id,\n          orderId: pushKey,\n          price: price,\n          user: src,\n          userId: this.id,\n          status: 'paid',\n          quantity: value,\n          amountPaid: payString,\n          deliverTime: this.deliverTime,\n          message: this.paymentDetails,\n          orderTime: firebase.firestore.FieldValue.serverTimestamp()\n        });\n        optRef = doc(this._firestore, `trackOrders/${(this.owner)}/activeOrders/${(pushKey)}/options/${(this.product.currentOption)}`);\n        await setDoc(optRef, {\n        });\n        for (const key in this.options)\n          await updateDoc(optRef, {\n            [this.options[key].name]: this.options[key].val\n          })\n        // add all orders for stall\n        const trackOrderRef = doc(this._firestore, `trackOrders/${(this.owner)}/allOrders/${(pushKey)}`);\n        await setDoc(trackOrderRef, {\n          itemName: dataSnap.name,\n          imageUrl: dataSnap.imageUrl,\n          itemId: dataSnap.id,\n          user: src,\n          userId: this.id,\n          ownerId: ownerName.id,\n          orderId: pushKey,\n          price,\n          status: 'paid',\n          quantity: value,\n          amountPaid: payString,\n          deliverTime: this.deliverTime,\n          message: this.paymentDetails,\n          orderTime: firebase.firestore.FieldValue.serverTimestamp()\n        });\n        optRef = doc(this._firestore, `trackOrders/${(this.owner)}/allOrders/${(pushKey)}/options/${(this.product.currentOption)}`);\n        await setDoc(optRef, {\n        });\n        for (const key in this.options)\n          await updateDoc(optRef, {\n            [this.options[key].name]: this.options[key].val\n          })\n        // add to sales\n        const currentDate = new Date();\n        const month = currentDate.getMonth() + 1; //months from 1-12\n        const day = currentDate.getDate();\n        const year = currentDate.getFullYear();\n        const trackSales = doc(this._firestore, `trackSales/${(this.owner)}/${(year)}/${(month)}/${(day)}/${(pushKey)}`);\n        await setDoc(trackSales, {\n          itemName: dataSnap.name,\n          imageUrl: dataSnap.imageUrl,\n          itemId: dataSnap.id,\n          owner: ownerName.name,\n          ownerId: ownerName.id,\n          orderId: pushKey,\n          price,\n          quantity: value,\n          amountPaid: payString,\n          day\n        });\n      }\n    }).then(async () => {\n      // clear cart\n      await this.product.checkoutCart();\n      this.loading.dismiss();\n      await this.showAlert(\"Payment Success!\", \"You can check your purchases in My Orders.\");\n      await this.router.navigate(['my-orders']);\n\n    }).catch( e => {\n        this.loading.dismiss();\n        this.showAlert(\"Payment Failure!\", e);\n    }\n    );\n\n  }\n\n  async showAlert(header, message) {\n    const alert = await this.alertController.create({\n      header,\n      message,\n      buttons: ['Ok'],\n    });\n\n    await alert.present();\n  }\n\n  async presentPrompt() {\n    const alert = await this.alertController.create({\n      header: 'User verification',\n      inputs: [\n        {\n          name: 'password',\n          placeholder: 'Password',\n          type: 'password'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Confirm',\n          handler: async data => {\n            this.loadingController.create({\n              message: 'Verifying...',\n            }).then(async overlay => {\n              this.loading = overlay;\n              this.loading.present();\n            await this.iroha.getAccDetail('sec');\n            if (data.password === this.iroha.pw) {\n                this.loading.dismiss();\n                await this.payment();\n            }\n            else {\n              this.loading.dismiss();\n              await this.showAlert('Verification Failed', 'You entered the wrong password');\n              await this.router.navigate(['tabs']);\n            }\n            });\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n\n\n\n  back() {\n    this.router.navigate(['checkout']);\n  }\n\n\n\n}\n","import { Injectable } from '@angular/core';\nimport {BehaviorSubject} from 'rxjs';\nimport {Platform} from '@ionic/angular';\nimport {Router} from '@angular/router';\nimport {App, AppState} from '@capacitor/app';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class AccessService {\n  logoutTimer = new BehaviorSubject(0);\n  // isLocked = true;\n  constructor(private platform: Platform,\n              private router: Router) {\n      App.addListener('appStateChange', (state: AppState) => {\n        if (!state.isActive && this.logoutTimer.value > 0) {\n          this.lockApp();\n    }\n    });\n  }\n\n  resetLogoutTimer() {\n    this.logoutTimer.next(300);\n    this.decreaseTimer();\n  }\n\n  decreaseTimer() {\n    setTimeout(()=> {\n      if (this.logoutTimer.value === 0) {\n        this.lockApp();\n      }\n      else {\n        this.logoutTimer.next(this.logoutTimer.value - 1);\n        this.decreaseTimer();\n      }\n    }, 1000);\n  }\n\n  async lockApp() {\n    this.logoutTimer.next(0);\n    await this.router.navigate(['tabs']);\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}