{"version":3,"file":"default-src_app_shared_components_modal_customise-order_customise-order_page_ts.js","mappings":";;;;;;;;;;;;;AAAA,iEAAe,qyBAAqyB,4BAA4B,WAAW,0NAA0N,2oBAA2oB,wGAAwG,2CAA2C,+SAA+S;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAhlE;AAC6B;AACf;AAEG;AACqB;AACjB;AAGH;IAQvD,kBAAkB,SAAlB,kBAAkB;IAY7B,YAAoB,WAAwB,EACxB,eAAgC,EAChC,OAAuB,EACvB,eAAgC,EAChC,UAAqB,EACrB,gBAA6B,EAC7B,OAAuB;QANvB,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAChC,YAAO,GAAP,OAAO,CAAgB;QACvB,oBAAe,GAAf,eAAe,CAAiB;QAChC,eAAU,GAAV,UAAU,CAAW;QACrB,qBAAgB,GAAhB,gBAAgB,CAAa;QAC7B,YAAO,GAAP,OAAO,CAAgB;QAjB3C,kBAAa,GAAqB,EAAE,CAAC;QACrC,cAAS,GAAG,KAAK,CAAC;QAClB,SAAI,GAAG,KAAK,CAAC;QACb,SAAI,GAAG,SAAS,CAAC;QACjB,UAAK,GAAG,EAAE,CAAC;QAEH,gBAAW,GAAG,CAAC,CAAC;QAChB,aAAQ,GAAG,KAAK,CAAC;QACjB,QAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC;QACrC,WAAM,GAAG,IAAI,GAAG,EAAkB,CAAC;IAU1C,CAAC;IAEF,gBAAgB;QACd,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,EAAE,CAAC;IAClC,CAAC;IAEK,IAAI;;YACR,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,KAAK,IAAI,EAAE;gBACnC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;oBACjC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,+DAAmB,EAAE,8DAAkB,CAAC,aAAa,CAAC,EAAE,gEAAoB,CAAC,EAAE,CAAC,EAAE,gEAAoB,CAAC,CAAC,CAAC,CAAC,CAAC;iBACrH,CAAC,CAAC;aACJ;iBAAM;gBACL,MAAM,IAAI,GAAG,IAAI,GAAG,EAAkB,CAAC;gBACvC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC;gBAC3C,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;oBAC3C,IAAI,GAAG,KAAK,MAAM,EAAE;wBAClB,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;qBAC/C;iBACF;gBACD,MAAM,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;gBAC9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACpC,mCAAmC;oBACnC,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,+DAAmB,EAAE,8DAAkB,CAAC,aAAa,CAAC,EAAE,gEAAoB,CAAC,EAAE,CAAC,EAAE,gEAAoB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACjK,MAAM,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC5B,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,CAAC,CAAC;oBAC3B,mCAAmC;iBACpC;gBACD,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,+DAAmB,EAAE,8DAAkB,CAAC,aAAa,CAAC,EAAE,gEAAoB,CAAC,EAAE,CAAC,EAAE,gEAAoB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtJ,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACpC,mCAAmC;oBACnC,MAAM,GAAG,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;oBACjD,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,gBAAgB,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;oBACxG,MAAM,SAAS,GAAG,4DAAG,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,gBAAgB,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;oBACvH,MAAM,OAAO,GAAG,MAAM,+DAAM,CAAC,SAAS,CAAC,CAAC;oBACxC,MAAM,UAAU,GAAG,OAAO,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC;oBACxC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;oBAClD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAC,UAAU,CAAC,CAAC;oBACrD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;iBACpD;aACF;QACH,CAAC;KAAA;IAEK,YAAY,CAAC,EAAE,EAAE,KAAK;;YAC1B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,EAAC,KAAK,CAAC,CAAC;QAC5B,CAAC;KAAA;IAEG,OAAO;;YACT,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM,EAAE,oBAAoB;gBAC5B,MAAM,EAAE;oBACN;wBACE,IAAI,EAAE,MAAM;wBACZ,WAAW,EAAE,YAAY;wBACzB,IAAI,EAAE,MAAM;qBACb;iBACF;gBACD,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,QAAQ;wBACd,IAAI,EAAE,QAAQ;wBACd,OAAO,EAAE,IAAI,CAAC,EAAE;4BACd,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;wBAChC,CAAC;qBACF;oBACD;wBACE,IAAI,EAAE,SAAS;wBACf,OAAO,EAAE,CAAM,IAAI,EAAC,EAAE,CAAC;4BACrB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE;gCACnC,MAAM,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,0CAA0C,CAAC,CAAC;6BACnF;iCACI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE;gCACpC,MAAM,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,0DAA0D,CAAC,CAAC;6BACnG;iCACI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,EAAE;gCACtC,MAAM,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,0DAA0D,CAAC,CAAC;6BACnG;iCACI;gCACH,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;6BACvB;wBAEH,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IACK,UAAU;;YACd,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,KAAG,EAAE,EAAE;gBAC1C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE;oBAC3D,MAAM,IAAI,CAAC,SAAS,CAAC,iBAAiB,EAAE,0CAA0C,CAAC,CAAC;iBACrF;qBACI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE;oBAC5D,MAAM,IAAI,CAAC,SAAS,CAAC,iBAAiB,EAAE,8CAA8C,CAAC,CAAC;iBACzF;qBACI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,EAAE;oBAC9D,MAAM,IAAI,CAAC,SAAS,CAAC,iBAAiB,EAAE,8CAA8C,CAAC,CAAC;iBACzF;qBACI;oBACH,MAAM,IAAI,CAAC,aAAa,EAAE,CAAC;iBAC5B;aACF;iBACK;gBACJ,MAAM,IAAI,CAAC,SAAS,CAAC,iBAAiB,EAAE,2BAA2B,CAAC,CAAC;aACtE;QACF,CAAC;KAAA;IAEI,aAAa,CAAC,OAAO;;YACzB,MAAM,IAAI,CAAC,WAAW,CAAC,eAAe,EAAE,8CAA8C,EAAE,OAAO,CAAC,CAAC;YACjG,mCAAmC;QAClC,CAAC;KAAA;IAEE,aAAa;;YACjB,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,EAAE,CAAC;YAChC,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,EAAE,CAAC;YAC/B,IAAI,OAAO,CAAC;YACZ,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE;gBAC3B,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;gBACrC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACtB,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;gBACpC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;gBACjC,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;gBAC5C,MAAM,IAAI,GAAG,EAAE,CAAC;gBAChB,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;oBAC3C,IAAI,GAAG,KAAK,MAAM,EAAE;wBAClB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;wBACjB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;qBAC3C;iBACF;gBACD,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE;oBACtC,MAAM,IAAI,CAAC,SAAS,CAAC,uBAAuB,EAAE,wCAAwC,CAAC,CAAC;oBACxF,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;oBACvB,OAAO;iBACR;gBACD,oBAAoB;gBACpB,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;oBAC3C,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC;wBAC9B,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI;wBACpC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY;wBAC/B,OAAO,EAAE,KAAK;qBACf,CAAC,CAAC;iBACJ;qBAAM;oBACL,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE;wBAC5C,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,EAAE;4BAC3E,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC;gCAC9B,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI;gCACpC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY;gCAC/B,OAAO,EAAE,KAAK;6BACf,CAAC,CAAC;yBACJ;6BAAM;4BACL,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;yBAClE;qBACF;iBACF;gBACD,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,KAAK,EAAE,EAAE;oBACrC,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE;wBAC5C,mCAAmC;wBACnC,OAAO,GAAG,4DAAG,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAC5I,MAAM,+DAAM,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;qBAC7D;oBACD,MAAM,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;iBACtC;gBACD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aACxB;iBAAM;gBACL,MAAM,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,4CAA4C,CAAC,CAAC;aACpF;QACH,CAAC;KAAA;IACK,aAAa;;YACjB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAC9B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM,EAAE,aAAa;gBACrB,MAAM,EAAE;oBACN;wBACE,IAAI,EAAE,OAAO;wBACb,WAAW,EAAE,aAAa;wBAC1B,IAAI,EAAE,QAAQ;qBACf;iBACF;gBACD,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,QAAQ;wBACd,IAAI,EAAE,QAAQ;wBACd,OAAO,EAAE,IAAI,CAAC,EAAE;4BACd,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;wBAChC,CAAC;qBACF;oBACD;wBACE,IAAI,EAAE,SAAS;wBACf,OAAO,EAAE,CAAM,IAAI,EAAC,EAAE,CAAC;4BACrB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;4BACxB,MAAM,GAAG,GAAG,IAAI,CAAC,IAAI,GAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;4BACxD,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,gBAAgB,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;4BAC5F,MAAM,aAAa,GAAG,4DAAG,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,gBAAgB,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;4BAC3H,MAAM,+DAAM,CAAC,aAAa,EAAE;gCACxB,KAAK,EAAE,IAAI,CAAC,KAAK;6BACpB,CAAC,CAAC;4BACH,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;4BACvE,mCAAmC;4BACnC,IAAI,CAAC,WAAW,EAAE,CAAC;4BACnB,mCAAmC;4BACnC,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,KAAG,SAAS,EAAE;gCACpD,IAAI,CAAC,WAAW,EAAE,CAAC;6BACpB;4BACD,mCAAmC;4BACnC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,IAAI,uDAAW,CAAC,EAAE,EAAE,CAAC,+DAAmB,EAAE,8DAAkB,CAAC,aAAa,CAAC,EAAE,gEAAoB,CAAC,EAAE,CAAC,EAAE,gEAAoB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBACnL,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAEK,IAAI;;YACR,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;YAC9B,MAAM,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;QACvC,CAAC;KAAA;IAEK,SAAS,CAAC,MAAM,EAAC,OAAO;;YAC5B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM;gBACN,OAAO;gBACP,OAAO,EAAE,CAAC;wBACR,IAAI,EAAE,QAAQ;wBACd,IAAI,EAAE,QAAQ;wBACd,OAAO,EAAE,IAAI,CAAC,EAAE;4BACd,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;wBAChC,CAAC;qBACF;oBACC;wBACE,IAAI,EAAE,SAAS;qBACd,CAAC;aACP,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAEK,WAAW,CAAC,MAAM,EAAC,OAAO,EAAE,OAAO;;YACvC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM;gBACN,OAAO;gBACP,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,QAAQ;wBACd,IAAI,EAAE,QAAQ;wBACd,OAAO,EAAE,IAAI,CAAC,EAAE;4BACd,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;wBAChC,CAAC;qBACF;oBACD;wBACE,IAAI,EAAE,SAAS;wBACf,OAAO,EAAE,IAAI,CAAC,EAAE;4BACd,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;4BACrC,mCAAmC;4BACnC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,IAAI,uDAAW,CAAC,EAAE,EAAE,CAAC,+DAAmB,EAAE,8DAAkB,CAAC,aAAa,CAAC,EAAE,gEAAoB,CAAC,EAAE,CAAC,EAAE,gEAAoB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBACnL,CAAC;qBACF;iBAAC;aACL,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;CAEF;;YA3SO,uDAAW;YACM,2DAAe;YAGjB,0EAAc;YAH7B,2DAAe;YAIV,8DAAS;YAFd,oEAAW;YAKX,qEAAc;;AAQT,kBAAkB;IAL9B,wDAAS,CAAC;QACT,QAAQ,EAAE,qBAAqB;QAC/B,8NAA0C;;KAE3C,CAAC;GACW,kBAAkB,CA2R9B;AA3R8B","sources":["./src/app/shared/components/modal/customise-order/customise-order.page.html","./src/app/shared/components/modal/customise-order/customise-order.page.ts"],"sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button color=\\\"primary\\\" (click)=\\\"back()\\\" routerDirection=\\\"forward\\\">\\n        <ion-text>Cancel</ion-text>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button\\n        *ngIf=\\\"!isLoading\\\"\\n        color=\\\"primary\\\" (click)=\\\"submitRequest()\\\">\\n        <ion-text style=\\\"font-weight: bold\\\">Confirm</ion-text>\\n      </ion-button>\\n      <ion-button\\n        *ngIf=\\\"isLoading\\\">\\n        <ion-spinner color=\\\"primary\\\"></ion-spinner>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"ion-padding\\\">\\n  <ion-row style=\\\"padding-left: 0\\\">\\n    <ion-col size=\\\"10\\\">\\n      <ion-text  color=\\\"primary\\\" style=\\\"font-size: 26px; font-weight: bold\\\">Name: {{this.name}}</ion-text>\\n    </ion-col>\\n  </ion-row>\\n  <ion-card mode=\\\"ios\\\" class=\\\"ion-padding\\\" *ngIf=\\\"this.product.customNew\\\">\\n    <ion-row>\\n      <ion-col size=\\\"10\\\">\\n        <ion-card-title style=\\\"font-size: 18px; padding-top: 3px\\\" >Edit Customisation Name</ion-card-title>\\n      </ion-col>\\n      <ion-col size=\\\"2\\\" class=\\\"ion-text-right\\\">\\n        <ion-buttons>\\n          <ion-button  (click)=\\\"addName()\\\">\\n            <ion-icon name=\\\"add-circle-outline\\\"></ion-icon>\\n          </ion-button>\\n        </ion-buttons>\\n      </ion-col>\\n    </ion-row>\\n  </ion-card>\\n  <ion-list lines=\\\"none\\\">\\n    <form [formGroup]=\\\"form\\\">\\n      <ion-item *ngFor=\\\"let control of form.controls | keyvalue\\\">\\n        <ion-input requiredtype=\\\"text\\\" [formControlName]=\\\"control.key\\\" placeHolder=\\\"option names...\\\"></ion-input>\\n        <p style=\\\"color: #9ca3af; margin-inline: 10px\\\" *ngIf=\\\"this.prices.get(form.value[control.key])!==undefined\\\">Add on price: RM {{this.prices.get(form.value[control.key])}} </p>\\n        <ion-icon *ngIf=\\\"form.value[control.key]!==''\\\" (click)=\\\"removeControl(control)\\\" name=\\\"close-circle\\\"></ion-icon>\\n      </ion-item>\\n    </form>\\n  </ion-list>\\n  <ion-button expand=\\\"full\\\" color=\\\"light\\\" (click)=\\\"addControl()\\\">Add Option</ion-button>\\n  </div>\\n</ion-content>\\n\";","import { Component, OnInit } from '@angular/core';\nimport {FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {AlertController, ModalController} from '@ionic/angular';\nimport {AngularFirestore} from '@angular/fire/compat/firestore';\nimport {AuthService} from '../../../../services/auth/auth.service';\nimport {CustomOptions, ProductService} from \"../../../../services/cafe/product.service\";\nimport {doc, Firestore, getDoc, setDoc} from \"@angular/fire/firestore\";\nimport {Auth} from \"@angular/fire/auth\";\nimport firebase from \"firebase/compat\";\nimport {StorageService} from \"../../../../services/storage.service\";\n\n\n@Component({\n  selector: 'app-customise-order',\n  templateUrl: './customise-order.page.html',\n  styleUrls: ['./customise-order.page.scss'],\n})\nexport class CustomiseOrderPage{\n  customOptions: CustomOptions [] = [];\n  isLoading = false;\n  type = false;\n  name = 'Not set';\n  group = {};\n  public form: FormGroup;\n  private optionCount = 1;\n  private addValue = false;\n  private uid = this.ionicAuthService.getUid();\n  private prices = new Map<string, number>();\n\n  constructor(private formBuilder: FormBuilder,\n              private modalController: ModalController,\n              private product: ProductService,\n              private alertController: AlertController,\n              private _firestore: Firestore,\n              private ionicAuthService: AuthService,\n              private storage: StorageService){\n\n   }\n\n  ionViewWillEnter() {\n    this.init();\n    this.product.customOption = [];\n    this.product.customOptions = [];\n  }\n\n  async init() {\n    if (this.product.customNew === true) {\n      this.form = this.formBuilder.group({\n        1: ['', [Validators.required, Validators.pattern('^[a-zA-Z]+$'), Validators.maxLength(10), Validators.minLength(6)]]\n      });\n    } else {\n      const temp = new Map<string, string>();\n      this.name = this.product.customOption.name;\n      for (const key in this.product.customOption) {\n        if (key !== 'name') {\n          temp.set(key, this.product.customOption[key]);\n        }\n      }\n      const keys = [...temp.keys()];\n      for (let i = 0; i < keys.length; i++) {\n        // eslint-disable-next-line max-len\n        this.group[`${keys[i]}`] = [temp.get(`${keys[i]}`), [Validators.required, Validators.pattern('^[a-zA-Z]+$'), Validators.maxLength(10), Validators.minLength(6)]];\n        const key = Number(keys[i]);\n        this.optionCount = key + 1;\n        // eslint-disable-next-line max-len\n      }\n      this.group[`${this.optionCount}`] = ['', [Validators.required, Validators.pattern('^[a-zA-Z]+$'), Validators.maxLength(10), Validators.minLength(6)]];\n      this.form = this.formBuilder.group(this.group);\n      for (let i = 0; i < keys.length; i++) {\n        // eslint-disable-next-line max-len\n        const key = this.name + this.form.value[keys[i]];\n        console.log(`stores/${(this.product.ownerId)}/items/${(this.product.editItemId)}/optionPrice/${(key)}`);\n        const optionRef = doc(this._firestore, `stores/${(this.uid)}/items/${(this.product.editItemId)}/optionPrice/${(key)}`);\n        const optSnap = await getDoc(optionRef);\n        const optionSnap = optSnap.data().price;\n        console.log(this.form.value[keys[i]], optionSnap);\n        this.prices.set(this.form.value[keys[i]],optionSnap);\n        console.log(this.prices[this.form.value[keys[i]]]);\n      }\n    }\n  }\n\n  async refreshPrice(id, price) {\n    this.prices.set(id,price);\n  }\n\nasync addName() {\n    const alert = await this.alertController.create({\n      header: 'Customisation name',\n      inputs: [\n        {\n          name: 'name',\n          placeholder: 'Enter name',\n          type: 'text'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Confirm',\n          handler: async data => {\n            if (!data.name.match('^[a-zA-Z]+$')) {\n              await this.showAlert('Invalid name.', 'Only characters a-z and A-Z are allowed.');\n            }\n            else if (!data.name.match('^.{6,}$')) {\n              await this.showAlert('Invalid name.', 'Your customisation name must have at least 6 characters.');\n            }\n            else if (!data.name.match('^.{6,15}$')) {\n              await this.showAlert('Invalid name.', 'Your customisation name must have at most 15 characters.');\n            }\n            else {\n              this.name = data.name;\n            }\n\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n  async addControl() {\n    if (this.form.value[this.optionCount]!=='') {\n      if (!this.form.value[this.optionCount].match('^[a-zA-Z]+$')) {\n        await this.showAlert('Invalid option.', 'Only characters a-z and A-Z are allowed.');\n      }\n      else if (!this.form.value[this.optionCount].match('^.{6,}$')) {\n        await this.showAlert('Invalid option.', 'Your option must have at least 6 characters.');\n      }\n      else if (!this.form.value[this.optionCount].match('^.{6,15}$')) {\n        await this.showAlert('Invalid option.', 'Your option must have at most 15 characters.');\n      }\n      else {\n        await this.presentPrompt();\n      }\n    }\n    else  {\n      await this.showAlert('Invalid option.', 'Empty option not allowed!');\n    }\n   }\n\n  async removeControl(control) {\n    await this.cancelAlert('Remove option', 'Are you sure you want to remove this option?', control);\n    // eslint-disable-next-line max-len\n     }\n\n  async submitRequest() {\n    this.product.customOptions = [];\n    this.product.customOption = [];\n    let dataRef;\n    if (this.name !== 'Not set') {\n      const optionCount = this.optionCount;\n      this.isLoading = true;\n      delete this.form.value[optionCount];\n      this.form.value.name = this.name;\n      this.product.customOption = this.form.value;\n      const temp = [];\n      for (const key in this.product.customOption) {\n        if (key !== 'name') {\n          console.log(key);\n          temp.push(this.product.customOption[key]);\n        }\n      }\n      if (new Set(temp).size !== temp.length) {\n        await this.showAlert('Invalid customisation', 'Duplication options are not permitted.');\n        this.isLoading = false;\n        return;\n      }\n      // delete duplicates\n      if (this.product.customOptions.length === 0) {\n        this.product.customOptions.push({\n          name: this.product.customOption.name,\n          data: this.product.customOption,\n          checked: false\n        });\n      } else {\n        for (const key in this.product.customOptions) {\n          if (this.product.customOptions[key].name !== this.product.customOption.name) {\n            this.product.customOptions.push({\n              name: this.product.customOption.name,\n              data: this.product.customOption,\n              checked: false\n            });\n          } else {\n            this.product.customOptions[key].data = this.product.customOption;\n          }\n        }\n      }\n      if (this.product.customOptions !== []) {\n        for (const key in this.product.customOptions) {\n          // eslint-disable-next-line max-len\n          dataRef = doc(this._firestore, `stores/${(this.uid)}/items/${(this.product.editItemId)}/options/${(this.product.customOptions[key].name)}`);\n          await setDoc(dataRef, this.product.customOptions[key].data);\n        }\n        await this.modalController.dismiss();\n      }\n      this.isLoading = false;\n    } else {\n      await this.showAlert('Invalid name', 'Please set the name of your customisation.');\n    }\n  }\n  async presentPrompt() {\n    console.log(this.optionCount);\n    const alert = await this.alertController.create({\n      header: 'Enter price',\n      inputs: [\n        {\n          name: 'price',\n          placeholder: 'Enter price',\n          type: 'number'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Confirm',\n          handler: async data => {\n            console.log(data.price);\n            const key = this.name+this.form.value[this.optionCount];\n            console.log(`stores/${(this.uid)}/items/${(this.product.editItemId)}/optionPrice/${(key)}`);\n            const trackOrderRef = doc(this._firestore, `stores/${(this.uid)}/items/${(this.product.editItemId)}/optionPrice/${(key)}`);\n            await setDoc(trackOrderRef, {\n                price: data.price\n            });\n            await this.refreshPrice(this.form.value[this.optionCount], data.price);\n            // eslint-disable-next-line max-len\n            this.optionCount++;\n            // eslint-disable-next-line max-len\n            while (this.form.value[this.optionCount]!==undefined) {\n              this.optionCount++;\n            }\n            // eslint-disable-next-line max-len\n            this.form.addControl(String(this.optionCount), new FormControl('', [Validators.required, Validators.pattern('^[a-zA-Z]+$'), Validators.maxLength(10), Validators.minLength(6)]));\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  async back() {\n    this.product.customNew = true;\n    await this.modalController.dismiss();\n  }\n\n  async showAlert(header,message) {\n    const alert = await this.alertController.create({\n      header,\n      message,\n      buttons: [{\n        text: 'Cancel',\n        role: 'cancel',\n        handler: data => {\n          console.log('Cancel clicked');\n        }\n      },\n        {\n          text: 'Confirm',\n          }],\n    });\n\n    await alert.present();\n  }\n\n  async cancelAlert(header,message, control) {\n    const alert = await this.alertController.create({\n      header,\n      message,\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Confirm',\n          handler: data => {\n            this.form.removeControl(control.key);\n            // eslint-disable-next-line max-len\n            this.form.addControl(String(this.optionCount), new FormControl('', [Validators.required, Validators.pattern('^[a-zA-Z]+$'), Validators.maxLength(10), Validators.minLength(6)]));\n          }\n        }],\n    });\n\n    await alert.present();\n  }\n\n}\n\n\n"],"names":[],"sourceRoot":"webpack:///"}