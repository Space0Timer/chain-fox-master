{"version":3,"file":"src_app_pages_tabs_home_home_module_ts.js","mappings":"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","sources":["./src/app/pages/tabs/home/home.page.html","./node_modules/@capacitor/network/dist/esm/definitions.js","./node_modules/@capacitor/network/dist/esm/index.js","./node_modules/@capacitor/push-notifications/dist/esm/definitions.js","./node_modules/@capacitor/push-notifications/dist/esm/index.js","./src/app/pages/tabs/home/home-routing.module.ts","./src/app/pages/tabs/home/home.module.ts","./src/app/pages/tabs/home/home.page.ts"],"sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\n      <ion-button (click) = \\\"qrCode()\\\">\\n        <ion-icon name=\\\"qr-code\\\" ></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>\\n      <div class=\\\"title\\\">\\n        <img style=\\\"height: 30px\\\" src='assets/header/chainfoxhome.png'>\\n      </div>\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"chat()\\\">\\n        <ion-icon name=\\\"chatbubbles-outline\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button (click)=\\\"logOut()\\\">\\n        <ion-icon name=\\\"lock-closed\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content\\n      pullingIcon=\\\"chevron-down-circle-outline\\\"\\n      refreshingSpinner=\\\"circles\\\">\\n    </ion-refresher-content>\\n  </ion-refresher>\\n  <div class=\\\"banner\\\">\\n    <img  src=\\\"assets/imgs/screen1.png\\\" alt=\\\"\\\">\\n  </div>\\n  <div class=\\\"live-event\\\">\\n    <img src=\\\"../../assets/wallet.png\\\" />\\n    <div class=\\\"info\\\">\\n      <div class=\\\"content\\\">\\n        <ion-note color=\\\"white\\\">Hello, {{this.iroha.wallet.name}}!</ion-note>\\n        <ion-chip>\\n          <ion-label color=\\\"light\\\">\\n            Balance: RM {{this.iroha.wallet.balance}}\\n          </ion-label>\\n        </ion-chip>\\n        </div>\\n      </div>\\n  </div>\\n  <div class=\\\"default-top-padding title\\\">\\n    <h2>Wallet Management</h2>\\n  </div>\\n  <ion-grid style=\\\"margin: 5px 10px 0px 10px\\\" >\\n    <ion-row class=\\\"ion-align-items-center ion-margin-top\\\" >\\n      <ion-col size=\\\"6\\\" *ngFor=\\\"let feature of features\\\" class=\\\"ion-text-center\\\">\\n        <ion-card color=\\\"light\\\" (click)=\\\"getRoute(feature?.id)\\\">\\n          <ion-card-header>\\n            <ion-icon name=\\\"{{feature?.icon}}\\\"></ion-icon>\\n            <ion-card-title >{{feature?.name}}</ion-card-title>\\n          </ion-card-header>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <div class=\\\"default-top-padding title\\\">\\n    <h2>Promotions</h2>\\n  </div>\\n  <div class=\\\"ion-padding\\\">\\n    <ion-col size=\\\"4\\\">\\n      <ion-slides pager #mySlider class=\\\"slides\\\" (ionSlidesDidLoad)=\\\"slidesDidLoad(mySlider)\\\">\\n        <ion-slide *ngFor=\\\"let number of [1,2,3]\\\">\\n          <img src=\\\"assets/imgs/screen{{number}}.png\\\" alt=\\\"\\\" width=\\\"640\\\" height=\\\"360\\\">\\n        </ion-slide>\\n      </ion-slides>\\n    </ion-col>\\n  </div>\\n</ion-content>\\n\";","export {};\n","import { registerPlugin } from '@capacitor/core';\nconst Network = registerPlugin('Network', {\n    web: () => import('./web').then(m => new m.NetworkWeb()),\n});\nexport * from './definitions';\nexport { Network };\n","/// <reference types=\"@capacitor/cli\" />\nexport {};\n","import { registerPlugin } from '@capacitor/core';\nconst PushNotifications = registerPlugin('PushNotifications', {});\nexport * from './definitions';\nexport { PushNotifications };\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\nimport { HomePage } from './home.page';\nimport {SharedModule} from '../../../shared';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        HomePageRoutingModule,\n        SharedModule,\n    ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","import {Component, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {AuthService} from 'src/app/services/auth/auth.service';\nimport {doc, Firestore, getDoc} from '@angular/fire/firestore';\nimport {IrohaService} from '../../../services/iroha.service';\nimport {Network} from '@capacitor/network';\nimport {AlertController, MenuController} from '@ionic/angular';\nimport {FCM} from '@capacitor-community/fcm';\nimport { PushNotifications } from '@capacitor/push-notifications';\nimport {SplashScreen} from \"@capacitor/splash-screen\";\nimport {ProductService} from \"../../../services/cafe/product.service\";\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.page.html',\n  styleUrls: ['./home.page.scss'],\n})\n\nexport class HomePage implements OnInit{\n\n  successMsg = '';\n  errorMsg = '';\n  name = '';\n  highlights = [];\n  highlightSlideOpts =  {\n    slidesPerView: 1.05,\n    spaceBetween: 10,\n    centeredSlides: true,\n    loop: true\n  };\n  features: any[] = [\n    {id: 'top-up', name: 'Top Up', icon: 'add-circle-outline', background: 'rgba(27,150,181, 0.1)', page: ''},\n    {id: 'list', name: 'View History', icon: 'archive-outline', background: 'rgba(106,100,255, 0.1)', page: ''},\n  ];\n\n  private uid = this.ionicAuthService.getUid();\n  private id: any;\n  private options = [];\n\n  constructor(\n    private router: Router,\n    private ionicAuthService: AuthService,\n    private _firestore: Firestore,\n    public iroha: IrohaService,\n    public alertController: AlertController,\n    private product: ProductService,\n  ) { }\n\n  getRoute(route) {\n    this.router.navigate([route]);\n  }\n  slidesDidLoad(slides) {\n    slides.startAutoplay();\n  }\n  async doRefresh(event) {\n    await this.getUserId();\n    setTimeout(() => {\n      event.target.complete();\n    }, 1000);\n  }\n\n  async ngOnInit() {\n    try {\n      await PushNotifications.requestPermissions();\n      await PushNotifications.register();\n      // Enable the auto initialization of the library\n      FCM.getToken()\n        .then((r) => console.log(` ${r.token}`))\n        .catch((err) => console.log(err));\n      Network.addListener('networkStatusChange', async status => {\n        if (status.connected === false) {\n          await this.showAlert('You must have an Internet Connection to use this app. You will be redirected to the login page.');\n          await this.router.navigate(['auth-screen']);\n        }\n      });\n    }\n    catch(e) {\n      console.log(e);\n    }\n  }\n  async ionViewDidEnter() {\n    await this.getUserId();\n    await SplashScreen.hide();\n  }\n\n  async showAlert(message) {\n    const alert = await this.alertController.create({\n      header: 'No Internet Connection',\n      message,\n      buttons: ['OK'],\n    });\n\n    await alert.present();\n  }\n  logOut() {\n    this.ionicAuthService.logout()\n      .then((response) => {\n        this.errorMsg = '';\n        this.successMsg = 'Logout successful.';\n        this.goToLogin();\n      }, error => {\n        this.errorMsg = error.message;\n        this.successMsg = '';\n      });\n  }\n\n  goToLogin() {\n    this.router.navigate(['auth-screen']);\n  }\n\n  chat() {\n    this.router.navigate(['chat-list']);\n  }\n\n  async getUserId() {\n    // eslint-disable-next-line no-underscore-dangle\n    const docRef = doc(this._firestore, 'users', this.uid);\n    const docSnap = await getDoc(docRef);\n    if (docSnap.exists()) {\n      this.id = docSnap.data().username.concat('@test');\n      this.iroha.wallet.name = '';\n      await this.iroha.setName(this.id);\n      this.iroha.wallet.balance = '0';\n      await this.iroha.setBalance(this.id);\n    } else {\n      // doc.data() will be undefined in this case\n      console.log('No such document!');\n    }\n  }\n\n\n  qrCode() {\n    this.router.navigate(['qr-code']);\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}