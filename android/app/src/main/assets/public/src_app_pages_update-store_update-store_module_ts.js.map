{"version":3,"file":"src_app_pages_update-store_update-store_module_ts.js","mappings":"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","sources":["./src/app/pages/update-store/update-store.page.html","./src/app/shared/components/cards/update-store/update-store.component.html","./src/app/pages/update-store/update-store-routing.module.ts","./src/app/pages/update-store/update-store.module.ts","./src/app/pages/update-store/update-store.page.ts","./src/app/shared/components/cards/update-store/update-store.component.ts"],"sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button color=\\\"primary\\\" (click)=\\\"back()\\\" routerDirection=\\\"forward\\\">\\n        <ion-icon name=\\\"chevron-back-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>Update Store</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <div class=\\\"ion-margin-horizontal\\\">\\n    <ion-card mode=\\\"ios\\\" class=\\\"ion-padding\\\">\\n      <ion-row>\\n        <ion-col size=\\\"10\\\">\\n          <ion-card-title style=\\\"font-size: 18px; padding-top: 3px\\\" >Add New Item</ion-card-title>\\n        </ion-col>\\n        <ion-col size=\\\"2\\\" class=\\\"ion-text-right\\\">\\n          <ion-buttons>\\n            <ion-button (click)=\\\"openAddItemModal()\\\">\\n            <ion-icon name=\\\"add-circle-outline\\\"></ion-icon>\\n            </ion-button>\\n          </ion-buttons>\\n        </ion-col>\\n      </ion-row>\\n    </ion-card>\\n      <ion-row style=\\\"padding-left: 0\\\">\\n      <ion-col size=\\\"10\\\">\\n      <ion-text  color=\\\"primary\\\" style=\\\"font-size: 26px; font-weight: bold\\\">Current Items</ion-text>\\n      </ion-col>\\n      </ion-row>\\n    <ng-container *ngFor=\\\"let food of foodStore\\\">\\n      <app-update-store-component [food]=\\\"food\\\" (childEvent)=\\\"addItemToStoreInit()\\\"></app-update-store-component>\\n    </ng-container>\\n  </div>\\n</ion-content>\\n\";","export default \"<ng-container *ngIf=\\\"food\\\">\\n<ion-card mode=\\\"ios\\\" class=\\\"ion-padding\\\">\\n  <ion-row>\\n    <ion-col size=\\\"8\\\">\\n      <ion-card-title style=\\\"font-size: 18px; padding-bottom: 5px\\\">Item Name: {{food.name}}</ion-card-title>\\n      <ion-card-subtitle>Price: RM {{food.price}}</ion-card-subtitle>\\n      <ion-card-subtitle>Category: {{food.category}}</ion-card-subtitle>\\n    </ion-col>\\n    <ion-col size=\\\"6\\\" class=\\\"ion-text-right\\\">\\n      <ion-buttons>\\n        <ion-button (click)=\\\"openEditItemModal(food.id, food.name, food.price, food.category, food.description)\\\">\\n        <ion-icon name=\\\"pencil-outline\\\" ></ion-icon>\\n      </ion-button>\\n        <ion-button (click)=\\\"delete(food.id)\\\">\\n          <ion-icon name=\\\"trash-outline\\\" ></ion-icon>\\n        </ion-button>\\n        <ion-button (click)=\\\"soldOut(food.id)\\\">\\n          <ion-icon name=\\\"lock-closed-outline\\\"></ion-icon>\\n        </ion-button>\\n        <ion-button (click)=\\\"restock(food.id)\\\">\\n          <ion-icon name=\\\"lock-open-outline\\\"></ion-icon>\\n        </ion-button>\\n      </ion-buttons>\\n    </ion-col>\\n  </ion-row>\\n</ion-card>\\n</ng-container>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UpdateStorePage } from './update-store.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UpdateStorePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UpdateStorePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UpdateStorePageRoutingModule } from './update-store-routing.module';\n\nimport { UpdateStorePage } from './update-store.page';\nimport {UpdateStoreComponent} from '../../shared/components/cards/update-store/update-store.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    UpdateStorePageRoutingModule,\n    ReactiveFormsModule\n  ],\n    declarations: [UpdateStorePage, UpdateStoreComponent]\n})\nexport class UpdateStorePageModule {}\n","import {Component, OnInit, Optional} from '@angular/core';\nimport {FirebaseUploadService} from '../../services/cafe/firebase-upload.service';\nimport {Router} from '@angular/router';\nimport {FormControl, FormGroup, Validators} from '@angular/forms';\nimport {collection, doc, Firestore, getDocs, query, setDoc} from '@angular/fire/firestore';\nimport {AuthService} from '../../services/auth/auth.service';\nimport {AngularFirestore} from '@angular/fire/compat/firestore';\nimport {ProductService} from '../../services/cafe/product.service';\nimport {IFoodCard} from '../../shared';\nimport {AlertController, IonRouterOutlet, MenuController, ModalController} from '@ionic/angular';\nimport {AddItemComponent} from '../../shared/components/modal/add-item/add-item.component';\n\n@Component({\n  selector: 'app-update-store',\n  templateUrl: './update-store.page.html',\n  styleUrls: ['./update-store.page.scss'],\n})\nexport class UpdateStorePage implements OnInit {\n  foodStore: IFoodCard[] = [\n  ];\n  barStatus = false;\n  errorMessage = '';\n  imageUploads = [];\n  name = '';\n  form: FormGroup;\n  type = false;\n  isLoading: boolean;\n  imageUrl = '';\n  private uid = this.ionicAuthService.getUid();\n\n  constructor(private firebaseUploadService: FirebaseUploadService,\n              private router: Router,\n              private _firestore: Firestore,\n              private ionicAuthService: AuthService,\n              private afs: AngularFirestore,\n              private product: ProductService,\n              private modalCtrl: ModalController,\n              private routerOutlet: IonRouterOutlet,\n              private menu: MenuController) {\n    this.initForm();\n    this.menu.enable(false);\n  }\n  async ionViewDidLeave() {\n    await this.menu.enable(true);\n  }\n\n  async ngOnInit() {\n    await this.addItemToStoreInit();\n  }\n\n  async doRefresh(event) {\n    await this.addItemToStoreInit();\n    setTimeout(() => {\n      event.target.complete();\n    }, 1000);\n  }\n\n  uploadPhoto(event) {\n    this.barStatus = true;\n    this.firebaseUploadService.storeImage(event.target.files[0]).then(\n      (res: any) => {\n        if (res) {\n          console.log(res);\n          this.imageUrl = res;\n          this.imageUploads.unshift(res);\n          this.barStatus = false;\n        }\n      },\n      (error: any) => {\n        this.barStatus = false;\n      }\n    );\n  }\n\n  initForm() {\n    this.form = new FormGroup({\n      name: new FormControl(null, {validators: [Validators.required]}),\n      price: new FormControl(null, {validators: [Validators.required]}), // added email validator also\n      category: new FormControl(null, {validators: [Validators.required]}), // added email validator also\n      description: new FormControl(null, {validators: [Validators.required]}), // added email validator also\n    });\n  }\n\n  changeType() {\n    this.type = !this.type;\n  }\n\n  async onSubmit() {\n    this.errorMessage = '';\n    if(!this.form.valid) {\n      this.form.markAllAsTouched();\n      return;\n    }\n    if(this.imageUrl === '') {\n      this.errorMessage = 'You must upload an image for your item to proceed.';\n      return;\n    }\n    this.isLoading = true;\n    console.log(this.form.value);\n    await this.uploadStoreDetails(this.form.value);\n    this.isLoading = false;\n    await this.addItemToStoreInit();\n  }\n\n  async uploadStoreDetails(formValue) {\n    // eslint-disable-next-line no-underscore-dangle\n    const pushKey = this.afs.createId();\n    let dataRef = doc(this._firestore, `stores/${(this.uid)}/items/${(pushKey)}`);\n    await setDoc(dataRef, {\n      name: formValue.name,\n      price: formValue.price,\n      category: formValue.category,\n      description:  formValue.description,\n      imageUrl: this.imageUrl,\n      status: 'available',\n      id: pushKey\n    });\n    dataRef = doc(this._firestore, `idOwner/${(pushKey)}`);\n    await setDoc(dataRef, {\n      owner: this.uid,\n    });\n    // create categories\n    dataRef = doc(this._firestore, `stores/${(this.uid)}/categories/${(formValue.category)}`);\n    await setDoc(dataRef, {\n      name: formValue.name,\n    });\n    // add items to categories\n    await this.afs.collection(`stores/${(this.uid)}/categories/`).doc(formValue.category).update({\n      [pushKey]: 1,\n    });\n    dataRef = doc(this._firestore, `idOwner/${(pushKey)}`);\n    await setDoc(dataRef, {\n      owner: this.uid,\n    });\n  }\n\n  async addItemToStoreInit() {\n    this.foodStore = [];\n    const dataRef = collection(this._firestore, 'stores/'+this.uid+'/items');\n    const q = query(dataRef);\n    const querySnapshot = await getDocs(q);\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    querySnapshot.forEach((doc) => {\n      const data = doc.data();\n      console.log(data);\n      this.foodStore.push(\n        {\n          owner: '',\n          name: data.name,\n          description: data.description,\n          image: data.imageUrl,\n          price: data.price,\n          id: data.id,\n          category: data.category,\n          status: data.status\n        },\n      );\n    });\n  }\n\n  async openAddItemModal() {\n    const modal = await this.modalCtrl.create({\n      component: AddItemComponent,\n      swipeToClose: true,\n      presentingElement: this.routerOutlet.nativeEl,\n    });\n    modal.onDidDismiss().then((data) => {\n      console.log('test');\n      this.ngOnInit();\n    });\n    return await modal.present();\n  }\n\n  back() {\n    this.router.navigateByUrl('tabs/account', {replaceUrl: true});\n  }\n}\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {IFoodCard} from '../food-card/food-card.component';\nimport {AuthService} from '../../../../services/auth/auth.service';\nimport {AngularFirestore} from '@angular/fire/compat/firestore';\nimport {IonRouterOutlet, ModalController} from '@ionic/angular';\nimport {EditItemComponent} from \"../../modal/edit-item/edit-item.component\";\nimport {ProductService} from '../../../../services/cafe/product.service';\n\n@Component({\n  selector: 'app-update-store-component',\n  templateUrl: './update-store.component.html',\n  styleUrls: ['./update-store.component.scss'],\n})\nexport class UpdateStoreComponent{\n  @Input() food: IFoodCard;\n  @Output() childEvent: EventEmitter<any> = new EventEmitter();\n  private id = this.ionicAuthService.getUid();\n\n  constructor(private ionicAuthService: AuthService,\n              private afs: AngularFirestore,\n              private modalCtrl: ModalController,\n              private routerOutlet: IonRouterOutlet,\n              private product: ProductService) {\n\n  }\n\n  async openEditItemModal(id, name, price, category, description) {\n    this.product.editItemId = id;\n    this.product.editItemName = name;\n    this.product.editItemPrice = price;\n    this.product.editItemCategory = category;\n    this.product.editItemDescription= description;\n    const modal = await this.modalCtrl.create({\n      component: EditItemComponent,\n      swipeToClose: true,\n      presentingElement: this.routerOutlet.nativeEl,\n    });\n    return await modal.present();\n  }\n\n\n  async soldOut(id) {\n    await this.afs.collection(`stores/${(this.id)}/items`).doc(id).update({\n      status: 'sold out'\n    });\n  }\n\n  async restock(id) {\n    await this.afs.collection(`stores/${(this.id)}/items`).doc(id).update({\n      status: 'available'\n    });\n  }\n\n  async delete(id) {\n    await this.afs.collection(`stores/${(this.id)}/items`).doc(id).delete();\n    setTimeout(() => {\n      this.childEvent.emit();\n    }, 500);\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}